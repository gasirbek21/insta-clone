{"version":3,"file":"static/js/467.eb2f75f1.chunk.js","mappings":"2OAoJA,UA7Ie,WACX,IAAQA,GAAaC,EAAAA,EAAAA,YAAWC,EAAAA,GAAxBF,SACFG,GAAWC,EAAAA,EAAAA,MAEjB,GAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAgCF,EAAAA,EAAAA,UAAS,IAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,IAAnC,eAAOK,EAAP,KAAcC,EAAd,KACA,GAAgCN,EAAAA,EAAAA,UAAS,IAAzC,eAAOO,EAAP,KAAiBC,EAAjB,KACA,GAA0BR,EAAAA,EAAAA,UAAS,IAAnC,eAAOS,EAAP,KAAcC,EAAd,KAEMC,EAAyB,KAAbJ,GAA6B,KAAVF,EAE/BO,EAAY,yCAAG,WAAOC,GAAP,mFACjBA,EAAMC,iBADW,mBAIgBC,EAAAA,EAAAA,IAAkBd,GAJlC,iBAKOe,OALP,0CAOoBrB,EACpBsB,OACAC,+BAA+Bb,EAAOE,GATtC,cAOCY,EAPD,iBAWCA,EAAWC,KAAKC,cAAc,CAChCC,YAAarB,IAZZ,yBAeCN,EAAS4B,YAAYC,WAAW,SAASC,IAAI,CAC/CC,OAAQP,EAAWC,KAAKO,IACxB1B,SAAUA,EAAS2B,cACnBzB,SAAAA,EACAE,MAAOA,EAAMuB,cACbC,UAAW,GACXC,UAAW,GACXC,YAAaC,KAAKC,MAClBC,QAAS,GACTC,UACI,gMAzBH,QA4BLrC,EAASsC,EAAAA,IA5BJ,kDA8BLhC,EAAY,IACZE,EAAS,IACTE,EAAY,IACZE,EAAS,KAAM2B,SAjCV,gCAoCT3B,EAAS,uDApCA,0DAuCbJ,EAAS,IACTE,EAAY,IACZE,EAAS,KAAM2B,SAzCF,iEAAH,sDAiDlB,OAJAC,EAAAA,EAAAA,YAAU,WACNC,SAASC,MAAQ,qBACpB,GAAE,KAGC,gBAAKC,UAAU,4CAAf,UACI,iBAAKA,UAAU,gBAAf,WACI,iBAAKA,UAAU,4DAAf,WACI,gBAAKA,UAAU,2CAAf,uBAGChC,IACG,cAAGgC,UAAU,4BAAb,SAA0ChC,KAE9C,kBAAMiC,SAAU9B,EAAc6B,UAAU,GAAGE,OAAO,OAAlD,WACI,0BACI,kBACIC,KAAK,OACL,aAAW,4BACXC,YAAY,WACZJ,UAAU,wFAEVK,MAAO7C,EACP8C,SAAU,SAACC,GAAD,OAAO9C,EAAY8C,EAAEC,OAAOH,MAA5B,OAGlB,0BACI,kBACIF,KAAK,OACL,aAAW,uBACXC,YAAY,YACZJ,UAAU,wFAEVK,MAAO3C,EACP4C,SAAU,SAACC,GAAD,OAAO5C,EAAY4C,EAAEC,OAAOH,MAA5B,OAGlB,0BACI,kBACIF,KAAK,OACL,aAAW,2BACXC,YAAY,gBACZJ,UAAU,wFAEVK,MAAOzC,EACP0C,SAAU,SAACC,GAAD,OAAO1C,EAAS0C,EAAEC,OAAOH,MAAzB,OAGlB,0BACI,kBACIF,KAAK,WACL,aAAW,sBACXC,YAAY,WACZJ,UAAU,wFAEVK,MAAOvC,EACPwC,SAAU,SAACC,GAAD,OAAOxC,EAAYwC,EAAEC,OAAOH,MAA5B,OAGlB,0BACI,mBACII,SAAUvC,EACViC,KAAK,SACLH,UAAS,8EACL9B,GAAa,cAJrB,8BAWZ,gBAAK8B,UAAU,mGAAf,UACI,eAAGA,UAAU,UAAb,kCAEI,SAAC,KAAD,CAAMU,GAAIC,EAAAA,GAAOX,UAAU,2BAA3B,6BAQvB,C","sources":["pages/Auth/SignUp.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport FirebaseContext from \"../../Context/firebase\";\r\nimport \"./style.css\";\r\nimport { HOME, LOGIN } from \"../../Constant/routes\";\r\nimport { doesUsernameExist } from \"../../services/firebase\";\r\n\r\nconst SignUp = () => {\r\n    const { firebase } = useContext(FirebaseContext);\r\n    const navigate = useNavigate();\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [fullName, setFullName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n    const isInvalid = password === \"\" || email === \"\";\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try {\r\n            const usernameExists = await doesUsernameExist(username);\r\n            if (!usernameExists.length) {\r\n                try {\r\n                    const userResult = await firebase\r\n                        .auth()\r\n                        .createUserWithEmailAndPassword(email, password);\r\n\r\n                    await userResult.user.updateProfile({\r\n                        displayName: username,\r\n                    });\r\n\r\n                    await firebase.firestore().collection(\"users\").add({\r\n                        userId: userResult.user.uid,\r\n                        username: username.toLowerCase(),\r\n                        fullName,\r\n                        email: email.toLowerCase(),\r\n                        following: [],\r\n                        followers: [],\r\n                        dataCreated: Date.now(),\r\n                        aboutMe: \"\",\r\n                        avatarSrc:\r\n                            \"https://media.istockphoto.com/vectors/user-avatar-profile-icon-black-vector-illustration-vector-id1209654046?k=20&m=1209654046&s=170667a&w=0&h=BBXhuO36-UfqMS5aYkYvqjAuz3bO1GW-wiXGqRD1Sng=\",\r\n                    });\r\n\r\n                    navigate(HOME);\r\n                } catch (error) {\r\n                    setFullName(\"\");\r\n                    setEmail(\"\");\r\n                    setPassword(\"\");\r\n                    setError(error.message);\r\n                }\r\n            } else {\r\n                setError(\"This username is already taken, please try another.\");\r\n            }\r\n        } catch (error) {\r\n            setEmail(\"\");\r\n            setPassword(\"\");\r\n            setError(error.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.title = \"Sign Up - Instagram\";\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"flex items-center justify-center h-screen\">\r\n            <div className=\"flex flex-col\">\r\n                <div className=\"p-4 bg-white border border-gray-primary mb-4 w-80 rounded\">\r\n                    <div className=\"instagram-font text-5xl text-center mb-8\">\r\n                        Instagram\r\n                    </div>\r\n                    {error && (\r\n                        <p className=\"mb-4 text-xs text-red-500\">{error}</p>\r\n                    )}\r\n                    <form onSubmit={handleSubmit} className=\"\" method=\"post\">\r\n                        <div>\r\n                            <input\r\n                                type=\"text\"\r\n                                aria-label=\"Enter your email username\"\r\n                                placeholder=\"Username\"\r\n                                className=\"text-sm text-gray-base w-full py-5 px-4 h-2 border\r\n                                border-gray-primary rounded mb-2\"\r\n                                value={username}\r\n                                onChange={(e) => setUsername(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <input\r\n                                type=\"text\"\r\n                                aria-label=\"Enter your full name\"\r\n                                placeholder=\"Full Name\"\r\n                                className=\"text-sm text-gray-base w-full py-5 px-4 h-2 border\r\n                                border-gray-primary rounded mb-2\"\r\n                                value={fullName}\r\n                                onChange={(e) => setFullName(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <input\r\n                                type=\"text\"\r\n                                aria-label=\"Enter your email address\"\r\n                                placeholder=\"Email address\"\r\n                                className=\"text-sm text-gray-base w-full py-5 px-4 h-2 border\r\n                                border-gray-primary rounded mb-2\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <input\r\n                                type=\"password\"\r\n                                aria-label=\"Enter your password\"\r\n                                placeholder=\"Password\"\r\n                                className=\"text-sm text-gray-base w-full py-5 px-4 h-2 border\r\n                                border-gray-primary rounded mb-2\"\r\n                                value={password}\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <button\r\n                                disabled={isInvalid}\r\n                                type=\"submit\"\r\n                                className={`bg-[#005c98] cursor-pointer text-white rounded w-full h-8 font-bold ${\r\n                                    isInvalid && \"opacity-50\"\r\n                                }`}>\r\n                                Sign In\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className=\"rounded flex justify-center items-center flex-col w-full bg-white p-4 border border-gray-primary\">\r\n                    <p className=\"text-sm\">\r\n                        Have an account?{` `}\r\n                        <Link to={LOGIN} className=\"font-bold text-[#005c98]\">\r\n                            Log In\r\n                        </Link>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignUp;\r\n"],"names":["firebase","useContext","FirebaseContext","navigate","useNavigate","useState","username","setUsername","fullName","setFullName","email","setEmail","password","setPassword","error","setError","isInvalid","handleSubmit","event","preventDefault","doesUsernameExist","length","auth","createUserWithEmailAndPassword","userResult","user","updateProfile","displayName","firestore","collection","add","userId","uid","toLowerCase","following","followers","dataCreated","Date","now","aboutMe","avatarSrc","HOME","message","useEffect","document","title","className","onSubmit","method","type","placeholder","value","onChange","e","target","disabled","to","LOGIN"],"sourceRoot":""}